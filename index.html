<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>30 Exercícios Estilo LeetCode (C++) — Básico e Avançado</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  >
  <style>
    :root{
      --bg: #0b111a;
      --panel: rgba(15, 22, 34, 0.82);
      --panel-strong: rgba(19, 28, 44, 0.92);
      --stroke: rgba(148, 170, 200, 0.22);
      --soft: rgba(255, 255, 255, 0.06);
      --text: #e9eef7;
      --muted: #a8b3c7;
      --accent: #72e4c6;
      --accent-2: #7ab8ff;
      --warn: #f7c66a;
      --mono: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: "Space Grotesk", "Avenir Next", "Futura", "Trebuchet MS", sans-serif;
      --radius: 18px;
      --shadow: 0 24px 60px rgba(0,0,0,0.45);
    }

    *{ box-sizing: border-box; }

    body{
      margin: 0;
      font-family: var(--sans);
      color: var(--text);
      background:
        radial-gradient(1200px 700px at -5% -10%, rgba(122, 184, 255, 0.26), transparent 60%),
        radial-gradient(900px 600px at 110% 10%, rgba(114, 228, 198, 0.24), transparent 55%),
        radial-gradient(900px 800px at 50% 110%, rgba(247, 198, 106, 0.18), transparent 60%),
        linear-gradient(180deg, #0b111a 0%, #0a0f18 100%);
      line-height: 1.6;
      min-height: 100vh;
    }

    .page{
      max-width: 1100px;
      margin: 0 auto;
      padding: clamp(18px, 3vw, 32px) clamp(16px, 4vw, 28px) 80px;
    }

    .hero{
      padding: 28px;
      border-radius: var(--radius);
      border: 1px solid var(--stroke);
      background: linear-gradient(160deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      box-shadow: var(--shadow);
    }

    .hero h1{
      margin: 0 0 10px;
      font-size: clamp(24px, 2.7vw, 36px);
      letter-spacing: -0.02em;
    }

    .hero p{
      margin: 0;
      color: var(--muted);
      max-width: 70ch;
    }

    .badge-row{
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 16px;
    }

    .chip{
      font-size: 12px;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid var(--stroke);
      background: var(--panel);
      color: var(--muted);
      letter-spacing: 0.01em;
    }

    .chip.accent{ border-color: rgba(114, 228, 198, 0.5); color: #b9f6e5; }
    .chip.info{ border-color: rgba(122, 184, 255, 0.5); color: #c8e0ff; }
    .chip.warn{ border-color: rgba(247, 198, 106, 0.5); color: #ffe0a7; }

    .section{
      margin-top: 22px;
      padding: 22px;
      border-radius: var(--radius);
      border: 1px solid var(--stroke);
      background: var(--panel);
      box-shadow: var(--shadow);
    }

    .section h2{
      margin: 0 0 6px;
      font-size: 18px;
      letter-spacing: -0.01em;
    }

    .section p{ color: var(--muted); margin-bottom: 0; }

    .toc-grid{
      display: grid;
      gap: 16px;
    }

    @media (min-width: 900px){
      .toc-grid{ grid-template-columns: 1fr 1fr; }
    }

    .toc-box{
      padding: 14px;
      border-radius: 14px;
      border: 1px solid var(--soft);
      background: rgba(9, 14, 22, 0.45);
    }

    .toc-box h3{
      font-size: 13px;
      margin: 0 0 10px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--muted);
    }

    .toc-box a{
      display: inline-block;
      margin: 0 8px 8px 0;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid transparent;
      background: rgba(255,255,255,0.03);
      color: #cfe2ff;
      font-size: 13px;
      text-decoration: none;
    }

    .toc-box a:hover{
      border-color: rgba(122, 184, 255, 0.5);
      background: rgba(122, 184, 255, 0.12);
    }

    .accordion-item{
      border: 1px solid var(--stroke);
      background: var(--panel-strong);
      border-radius: 14px;
      overflow: hidden;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
    }

    .accordion-item + .accordion-item{
      margin-top: 12px;
    }

    .accordion-button{
      background: rgba(255,255,255,0.02);
      color: var(--text);
      font-weight: 600;
      padding: 16px 18px;
    }

    .accordion-button:not(.collapsed){
      background: rgba(122, 184, 255, 0.12);
      color: var(--text);
      box-shadow: none;
    }

    .accordion-button:focus{
      box-shadow: 0 0 0 2px rgba(122, 184, 255, 0.35);
    }

    .accordion-button::after{
      filter: invert(1) opacity(0.7);
    }

    .accordion-body{
      color: var(--muted);
      background: rgba(9, 14, 22, 0.35);
    }

    .exercise-title{
      font-size: 16px;
      display: block;
      margin-bottom: 6px;
    }

    .meta-row{
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .meta-pill{
      font-size: 11.5px;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid var(--soft);
      background: rgba(255,255,255,0.04);
      color: #c7d3e6;
    }

    .meta-pill.hard{ border-color: rgba(247, 198, 106, 0.5); color: #ffe0a7; }
    .meta-pill.accent{ border-color: rgba(114, 228, 198, 0.5); color: #baf4e4; }
    .meta-pill.info{ border-color: rgba(122, 184, 255, 0.5); color: #cfe2ff; }

    .bullet-list{
      padding-left: 1.1rem;
      margin-bottom: 10px;
    }

    .bullet-list li{
      margin-bottom: 8px;
    }

    .bullet-list li::marker{
      color: var(--accent);
    }

    .tag-row{
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
    }

    .tag{
      font-size: 12px;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(114, 228, 198, 0.35);
      color: #bff3e6;
      background: rgba(114, 228, 198, 0.08);
    }

    .examples h6{
      font-size: 13px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      color: #cbd6ea;
      margin-bottom: 8px;
    }

    .example-list li::marker{
      color: var(--accent-2);
    }

    code{
      font-family: var(--mono);
      font-size: 12.5px;
      padding: 1px 6px;
      border-radius: 8px;
      background: rgba(8, 11, 18, 0.75);
      border: 1px solid rgba(255,255,255,0.08);
      color: #e3ecff;
    }

    footer{
      margin-top: 22px;
      padding: 18px;
      border-radius: var(--radius);
      border: 1px solid var(--stroke);
      background: var(--panel);
      color: var(--muted);
    }

    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important; }
    }
  </style>
</head>
<body>
  <div class="page" id="topo">
    <header class="hero">
      <h1>30 Exercícios Estilo LeetCode (C++) — 15 Básicos + 15 Avançados</h1>
      <p>
        Cada exercício está organizado em tópicos e o título funciona como um <strong>collapse</strong>.
        Clique para abrir e ver a tarefa, restrições, dicas em C++ e exemplos.
      </p>
      <div class="badge-row">
        <span class="chip accent">Linguagem: C++</span>
        <span class="chip info">Foco: padrões + complexidade</span>
        <span class="chip">Formato: tópicos + exemplos</span>
      </div>
    </header>

    <section class="section" id="toc">
      <h2>Índice Rápido</h2>
      <p>Selecione um exercício para ir direto ao collapse correspondente.</p>
      <div class="toc-grid mt-3">
        <div class="toc-box">
          <h3>Básico (1–15)</h3>
          <div id="tocBasics"></div>
        </div>
        <div class="toc-box">
          <h3>Avançado (16–30)</h3>
          <div id="tocAdvanced"></div>
        </div>
      </div>
    </section>

    <section class="section" id="basicos">
      <h2>Parte 1 — Básico</h2>
      <p>Construa base sólida em hashing, ponteiros, filas/pilhas e BFS/DFS.</p>
      <div class="accordion mt-4" id="accordionBasics"></div>
    </section>

    <section class="section" id="avancados">
      <h2>Parte 2 — Avançado</h2>
      <p>Problemas que exigem janelas deslizantes, DP, grafos e estruturas avançadas.</p>
      <div class="accordion mt-4" id="accordionAdvanced"></div>
    </section>

    <footer>
      <strong>Checklist rápido (C++):</strong>
      <ul class="bullet-list mt-2">
        <li>Explique o invariável e a complexidade.</li>
        <li>Teste extremos: vazio, duplicados e limites.</li>
        <li>Prefira iterativo quando recursão pode estourar.</li>
      </ul>
    </footer>
  </div>

  <script>
    const exercises = [
      {
        id: "b1",
        section: "basic",
        number: 1,
        title: "Two Sum (Hash Map)",
        pattern: "Hashing",
        target: "O(n)",
        task: "Dado `nums` e `target`, retorne índices `i, j` tais que `nums[i] + nums[j] == target`.",
        constraints: "2 ≤ n ≤ 1e5; valores podem ser negativos; existe uma solução única.",
        note: "Guarde `valor → índice` em `unordered_map` e busque `target - x` a cada passo.",
        pitfalls: ["Duplicados (ex.: [3,3])", "Retornar valores em vez de índices"],
        examples: [
          "Entrada <code>nums=[2,7,11,15], target=9</code> → Saída <code>[0,1]</code>",
          "Entrada <code>nums=[3,2,4], target=6</code> → Saída <code>[1,2]</code>"
        ]
      },
      {
        id: "b2",
        section: "basic",
        number: 2,
        title: "Valid Parentheses (Stack)",
        pattern: "Stack",
        target: "O(n)",
        task: "Verifique se a string de parênteses está bem formada (tipos corretos e ordem válida).",
        constraints: "0 ≤ |s| ≤ 1e5; caracteres somente em ()[]{}.",
        note: "Use `stack<char>` e mapeie fechamento → abertura esperada.",
        pitfalls: ["Fechamento sem abertura", "Aberturas sobrando no final"],
        examples: [
          "Entrada <code>s=\'()[]{}\'</code> → Saída <code>true</code>",
          "Entrada <code>s=\'(]\'</code> → Saída <code>false</code>"
        ]
      },
      {
        id: "b3",
        section: "basic",
        number: 3,
        title: "Merge Two Sorted Lists (Linked List)",
        pattern: "Ponteiros",
        target: "O(n+m)",
        task: "Una duas listas encadeadas ordenadas e retorne a cabeça da lista resultante.",
        constraints: "Total de nós ≤ 1e5.",
        note: "Use nó sentinela e anexe sempre o menor nó atual.",
        pitfalls: ["Esquecer de anexar o restante", "Recursão profunda"],
        examples: [
          "Entrada <code>1→2→4</code> e <code>1→3→4</code> → Saída <code>1→1→2→3→4→4</code>",
          "Entrada <code>[]</code> e <code>0</code> → Saída <code>0</code>"
        ]
      },
      {
        id: "b4",
        section: "basic",
        number: 4,
        title: "Reverse a Linked List (Iterativo)",
        pattern: "Ponteiros",
        target: "O(n)",
        task: "Reverta uma lista encadeada simples e retorne a nova cabeça.",
        constraints: "Lista pode estar vazia.",
        note: "Mantenha `prev`, `cur` e salve `next` antes de reverter o ponteiro.",
        pitfalls: ["Perder o próximo nó", "Retornar a cabeça errada"],
        examples: [
          "Entrada <code>1→2→3→4</code> → Saída <code>4→3→2→1</code>",
          "Entrada <code>5</code> → Saída <code>5</code>"
        ]
      },
      {
        id: "b5",
        section: "basic",
        number: 5,
        title: "Binary Search (Clássico)",
        pattern: "Busca Binária",
        target: "O(log n)",
        task: "Dado um array ordenado, retorne o índice do alvo ou `-1`.",
        constraints: "Até 1e6 elementos.",
        note: "Calcule `mid = lo + (hi - lo) / 2` para evitar overflow.",
        pitfalls: ["Atualização errada de limites", "Off-by-one"],
        examples: [
          "Entrada <code>nums=[-1,0,3,5,9,12], target=9</code> → Saída <code>4</code>",
          "Entrada <code>nums=[-1,0,3,5,9,12], target=2</code> → Saída <code>-1</code>"
        ]
      },
      {
        id: "b6",
        section: "basic",
        number: 6,
        title: "Flood Fill (DFS/BFS em grade)",
        pattern: "BFS/DFS",
        target: "O(m·n)",
        task: "Recolora toda a região conectada (4 direções) a partir de `(sr, sc)`.",
        constraints: "1 ≤ m,n ≤ 200.",
        note: "Se `newColor == oldColor`, retorne cedo; BFS com fila é robusto.",
        pitfalls: ["Revisitar células", "Conexão 4 vs 8 direções"],
        examples: [
          "Entrada <code>image=[[1,1,1],[1,1,0],[1,0,1]], sr=1, sc=1, new=2</code> → Saída <code>[[2,2,2],[2,2,0],[2,0,1]]</code>",
          "Entrada <code>image=[[0,0,0]], sr=0, sc=0, new=0</code> → Saída <code>[[0,0,0]]</code>"
        ]
      },
      {
        id: "b7",
        section: "basic",
        number: 7,
        title: "First Unique Character (Contagem)",
        pattern: "Frequência",
        target: "O(n)",
        task: "Retorne o índice do primeiro caractere não repetido, ou `-1`.",
        constraints: "String ASCII.",
        note: "Faça duas passagens: conta e depois busca o primeiro com contagem 1.",
        pitfalls: ["Misturar índice e caractere", "Não tratar string vazia"],
        examples: [
          "Entrada <code>\'leetcode\'</code> → Saída <code>0</code>",
          "Entrada <code>\'aabb\'</code> → Saída <code>-1</code>"
        ]
      },
      {
        id: "b8",
        section: "basic",
        number: 8,
        title: "Valid Anagram (Frequência)",
        pattern: "Frequência",
        target: "O(n)",
        task: "Determine se `t` é anagrama de `s`.",
        constraints: "Considere ASCII; tamanhos podem ser grandes.",
        note: "Se tamanhos diferem, retorne false; use array fixo para contagem.",
        pitfalls: ["Esquecer check de tamanho", "Usar sort desnecessariamente"],
        examples: [
          "Entrada <code>s=\'anagram\', t=\'nagaram\'</code> → Saída <code>true</code>",
          "Entrada <code>s=\'rat\', t=\'car\'</code> → Saída <code>false</code>"
        ]
      },
      {
        id: "b9",
        section: "basic",
        number: 9,
        title: "Best Time to Buy/Sell Stock",
        pattern: "Guloso",
        target: "O(n)",
        task: "Compre em um dia e venda depois para maximizar lucro; se não houver, retorne 0.",
        constraints: "Ao menos 1 preço.",
        note: "Mantenha o menor preço visto e atualize o melhor lucro.",
        pitfalls: ["Vender antes de comprar", "Lucro negativo"],
        examples: [
          "Entrada <code>prices=[7,1,5,3,6,4]</code> → Saída <code>5</code>",
          "Entrada <code>prices=[7,6,4,3,1]</code> → Saída <code>0</code>"
        ]
      },
      {
        id: "b10",
        section: "basic",
        number: 10,
        title: "Longest Common Prefix",
        pattern: "Strings",
        target: "O(total chars)",
        task: "Retorne o maior prefixo comum entre todas as strings.",
        constraints: "Pode haver string vazia.",
        note: "Comece com o prefixo da primeira e reduza enquanto houver divergência.",
        pitfalls: ["Caso com string vazia", "Lista com um único elemento"],
        examples: [
          "Entrada <code>[\'flower\',\'flow\',\'flight\']</code> → Saída <code>\'fl\'</code>",
          "Entrada <code>[\'dog\',\'racecar\',\'car\']</code> → Saída <code>\'\'</code>"
        ]
      },
      {
        id: "b11",
        section: "basic",
        number: 11,
        title: "Move Zeroes (Two Pointers)",
        pattern: "Dois Ponteiros",
        target: "O(n)",
        task: "Mova zeros para o fim mantendo a ordem dos não-zeros.",
        constraints: "In-place.",
        note: "Use índice de escrita para não-zeros e complete o restante com 0.",
        pitfalls: ["Trocas desnecessárias", "Perder estabilidade"],
        examples: [
          "Entrada <code>[0,1,0,3,12]</code> → Saída <code>[1,3,12,0,0]</code>",
          "Entrada <code>[0,0,1]</code> → Saída <code>[1,0,0]</code>"
        ]
      },
      {
        id: "b12",
        section: "basic",
        number: 12,
        title: "Implement Queue using Stacks",
        pattern: "Duas Pilhas",
        target: "Amortizado O(1)",
        task: "Implemente fila FIFO com duas pilhas (`push`, `pop`, `peek`, `empty`).",
        constraints: "Operações devem ser eficientes.",
        note: "Mantenha pilhas `in` e `out`; só transfira quando `out` estiver vazia.",
        pitfalls: ["Transferir a cada operação", "Esquecer de atualizar topo"],
        examples: [
          "Operações <code>push(1), push(2), peek()</code> → Saída <code>1</code>",
          "Operações <code>pop()</code> após o exemplo acima → Saída <code>1</code>"
        ]
      },
      {
        id: "b13",
        section: "basic",
        number: 13,
        title: "Level Order Traversal (BFS)",
        pattern: "BFS",
        target: "O(n)",
        task: "Retorne valores por nível de uma árvore binária.",
        constraints: "Raiz pode ser nula.",
        note: "Use fila e processe `levelSize` nós por iteração.",
        pitfalls: ["Ignorar raiz nula", "Misturar níveis"],
        examples: [
          "Entrada <code>[3,9,20,null,null,15,7]</code> → Saída <code>[[3],[9,20],[15,7]]</code>",
          "Entrada <code>[]</code> → Saída <code>[]</code>"
        ]
      },
      {
        id: "b14",
        section: "basic",
        number: 14,
        title: "Invert Binary Tree (DFS)",
        pattern: "DFS",
        target: "O(n)",
        task: "Inverta os filhos esquerdo/direito de cada nó e retorne a raiz.",
        constraints: "Árvore pode estar vazia.",
        note: "DFS recursivo ou BFS iterativo são válidos.",
        pitfalls: ["Esquecer base case", "Perder ponteiro ao trocar"],
        examples: [
          "Entrada <code>[4,2,7,1,3,6,9]</code> → Saída <code>[4,7,2,9,6,3,1]</code>",
          "Entrada <code>[1]</code> → Saída <code>[1]</code>"
        ]
      },
      {
        id: "b15",
        section: "basic",
        number: 15,
        title: "Majority Element (Boyer–Moore)",
        pattern: "Votação",
        target: "O(n)",
        task: "Encontre o elemento que aparece mais de ⌊n/2⌋ vezes.",
        constraints: "Elemento majoritário garantido.",
        note: "Mantenha `candidate` e `count`, zerando quando `count` chega a 0.",
        pitfalls: ["Esquecer que precisa de verificação se não garantido"],
        examples: [
          "Entrada <code>[3,2,3]</code> → Saída <code>3</code>",
          "Entrada <code>[2,2,1,1,1,2,2]</code> → Saída <code>2</code>"
        ]
      },
      {
        id: "a16",
        section: "advanced",
        number: 16,
        title: "Longest Substring Without Repeating Characters",
        pattern: "Sliding Window",
        target: "O(n)",
        task: "Retorne o tamanho da maior substring sem caracteres repetidos.",
        constraints: "String ASCII.",
        note: "Guarde último índice visto e mova `left` com `max`.",
        pitfalls: ["Mover `left` para trás", "Off-by-one"],
        examples: [
          "Entrada <code>\'abcabcbb\'</code> → Saída <code>3</code>",
          "Entrada <code>\'bbbbb\'</code> → Saída <code>1</code>"
        ]
      },
      {
        id: "a17",
        section: "advanced",
        number: 17,
        title: "Minimum Window Substring",
        pattern: "Sliding Window",
        target: "O(n)",
        difficulty: "Difícil",
        task: "Encontre a menor substring de `s` que contém todos os chars de `t`.",
        constraints: "Considere multiplicidade de caracteres.",
        note: "Expanda até ficar válido e depois reduza pela esquerda.",
        pitfalls: ["Ignorar multiplicidade", "Condição de validade errada"],
        examples: [
          "Entrada <code>s=\'ADOBECODEBANC\', t=\'ABC\'</code> → Saída <code>\'BANC\'</code>",
          "Entrada <code>s=\'a\', t=\'aa\'</code> → Saída <code>\'\'</code>"
        ]
      },
      {
        id: "a18",
        section: "advanced",
        number: 18,
        title: "Merge Intervals",
        pattern: "Ordenação",
        target: "O(n log n)",
        task: "Una intervalos que se sobrepõem.",
        constraints: "Intervalos podem tocar nas extremidades.",
        note: "Ordene por início e estenda o intervalo atual quando houver sobreposição.",
        pitfalls: ["Esquecer de adicionar o último intervalo", "Erros nos limites"],
        examples: [
          "Entrada <code>[[1,3],[2,6],[8,10],[15,18]]</code> → Saída <code>[[1,6],[8,10],[15,18]]</code>",
          "Entrada <code>[[1,4],[4,5]]</code> → Saída <code>[[1,5]]</code>"
        ]
      },
      {
        id: "a19",
        section: "advanced",
        number: 19,
        title: "Kth Largest Element",
        pattern: "Heap",
        target: "O(n log k)",
        task: "Retorne o k-ésimo maior elemento (não distinto).",
        constraints: "k válido dentro do tamanho do array.",
        note: "Use min-heap de tamanho k e descarte quando exceder.",
        pitfalls: ["Confundir com k-ésimo distinto", "Mau uso do heap"],
        examples: [
          "Entrada <code>nums=[3,2,1,5,6,4], k=2</code> → Saída <code>5</code>",
          "Entrada <code>nums=[3,2,3,1,2,4,5,5,6], k=4</code> → Saída <code>4</code>"
        ]
      },
      {
        id: "a20",
        section: "advanced",
        number: 20,
        title: "LRU Cache",
        pattern: "Design",
        target: "O(1) médio",
        difficulty: "Difícil",
        task: "Implemente cache LRU com `get` e `put` em O(1) médio.",
        constraints: "Capacidade fixa.",
        note: "Use `list` para ordem e `unordered_map` para acesso direto.",
        pitfalls: ["Invalidar iterador após erase", "Não atualizar chave existente"],
        examples: [
          "Capacidade 2: <code>put(1,1), put(2,2), get(1)</code> → Saída <code>1</code>",
          "Depois: <code>put(3,3), get(2)</code> → Saída <code>-1</code>"
        ]
      },
      {
        id: "a21",
        section: "advanced",
        number: 21,
        title: "Course Schedule (Topological Sort)",
        pattern: "DAG",
        target: "O(V+E)",
        task: "Determine se é possível concluir todos os cursos (grafo sem ciclo).",
        constraints: "Grafo pode ser desconexo.",
        note: "Use Kahn (indegree + fila) ou DFS para detectar ciclo.",
        pitfalls: ["Arestas duplicadas", "Não contar nós processados"],
        examples: [
          "Entrada <code>num=2, prereq=[[1,0]]</code> → Saída <code>true</code>",
          "Entrada <code>num=2, prereq=[[1,0],[0,1]]</code> → Saída <code>false</code>"
        ]
      },
      {
        id: "a22",
        section: "advanced",
        number: 22,
        title: "Word Ladder (BFS)",
        pattern: "BFS",
        target: "O(N·L)",
        difficulty: "Difícil",
        task: "Transforme `beginWord` em `endWord` mudando uma letra por vez.",
        constraints: "Cada passo deve estar no dicionário.",
        note: "Use buckets com curingas (ex.: h*t) e BFS.",
        pitfalls: ["Revisitar palavras", "Marcar visitado tarde"],
        examples: [
          "Entrada <code>hit → cog</code> com lista <code>[hot,dot,dog,lot,log,cog]</code> → Saída <code>5</code>",
          "Sem <code>cog</code> na lista → Saída <code>0</code>"
        ]
      },
      {
        id: "a23",
        section: "advanced",
        number: 23,
        title: "Serialize/Deserialize Binary Tree",
        pattern: "Tree Encoding",
        target: "O(n)",
        difficulty: "Difícil",
        task: "Implemente `serialize` e `deserialize` preservando a estrutura da árvore.",
        constraints: "Inclua marcadores de nulo.",
        note: "BFS com `null` markers ou DFS pré-ordem são comuns.",
        pitfalls: ["Codificação ambígua", "Parsing frágil"],
        examples: [
          "Entrada <code>[1,2,3,null,null,4,5]</code> → Saída <code>estrutura preservada</code>",
          "Entrada <code>[]</code> → Saída <code>[]</code>"
        ]
      },
      {
        id: "a24",
        section: "advanced",
        number: 24,
        title: "Trapping Rain Water",
        pattern: "Dois Ponteiros",
        target: "O(n)",
        task: "Calcule o volume de água acumulado entre barras.",
        constraints: "Alturas não negativas.",
        note: "Dois ponteiros com `leftMax` e `rightMax` reduzem memória.",
        pitfalls: ["Usar loops aninhados", "Erro no mínimo das bordas"],
        examples: [
          "Entrada <code>[0,1,0,2,1,0,1,3,2,1,2,1]</code> → Saída <code>6</code>",
          "Entrada <code>[4,2,0,3,2,5]</code> → Saída <code>9</code>"
        ]
      },
      {
        id: "a25",
        section: "advanced",
        number: 25,
        title: "Largest Rectangle in Histogram",
        pattern: "Pilha Monótona",
        target: "O(n)",
        difficulty: "Difícil",
        task: "Retorne a maior área de retângulo no histograma.",
        constraints: "Alturas podem ter repetição.",
        note: "Use pilha crescente e sentinela 0 para esvaziar.",
        pitfalls: ["Cálculo incorreto da largura", "Igualdade de alturas"],
        examples: [
          "Entrada <code>[2,1,5,6,2,3]</code> → Saída <code>10</code>",
          "Entrada <code>[2,4]</code> → Saída <code>4</code>"
        ]
      },
      {
        id: "a26",
        section: "advanced",
        number: 26,
        title: "Median of Two Sorted Arrays",
        pattern: "Busca Binária",
        target: "O(log min(n,m))",
        difficulty: "Difícil",
        task: "Encontre a mediana de dois arrays ordenados.",
        constraints: "Um deles pode ser vazio.",
        note: "Faça partição binária no menor array (maxLeft ≤ minRight).",
        pitfalls: ["Casos pares vs ímpares", "Sentinelas nos limites"],
        examples: [
          "Entrada <code>nums1=[1,3], nums2=[2]</code> → Saída <code>2.0</code>",
          "Entrada <code>nums1=[1,2], nums2=[3,4]</code> → Saída <code>2.5</code>"
        ]
      },
      {
        id: "a27",
        section: "advanced",
        number: 27,
        title: "Regular Expression Matching",
        pattern: "DP",
        target: "O(n·m)",
        difficulty: "Difícil",
        task: "Implemente regex com `.` e `*` cobrindo a string inteira.",
        constraints: "`*` afeta o caractere anterior.",
        note: "DP em prefixos com transições especiais para `*`.",
        pitfalls: ["Inicialização para padrões como a*b*", "Transição errada de `*`"],
        examples: [
          "Entrada <code>s=\'aa\', p=\'a\'</code> → Saída <code>false</code>",
          "Entrada <code>s=\'aa\', p=\'a*\'</code> → Saída <code>true</code>"
        ]
      },
      {
        id: "a28",
        section: "advanced",
        number: 28,
        title: "Edit Distance (Levenshtein)",
        pattern: "DP",
        target: "O(n·m)",
        difficulty: "Difícil",
        task: "Calcule o mínimo de inserções/remoções/substituições para converter word1 em word2.",
        constraints: "Strings podem ser longas.",
        note: "DP com base `dp[i][0]=i` e `dp[0][j]=j`.",
        pitfalls: ["Esquecer casos base", "Confundir índices"],
        examples: [
          "Entrada <code>word1=\'horse\', word2=\'ros\'</code> → Saída <code>3</code>",
          "Entrada <code>word1=\'intention\', word2=\'execution\'</code> → Saída <code>5</code>"
        ]
      },
      {
        id: "a29",
        section: "advanced",
        number: 29,
        title: "Number of Islands II",
        pattern: "Union-Find",
        target: "~O(k α)",
        difficulty: "Difícil",
        task: "Adicione terras dinamicamente e retorne o número de ilhas após cada adição.",
        constraints: "A mesma posição pode aparecer repetida.",
        note: "DSU por id = r*n + c; ao ativar, una com vizinhos ativos.",
        pitfalls: ["Duplas adições", "Esquecer de checar vizinhos ativos"],
        examples: [
          "Entrada <code>m=3,n=3, pos=[[0,0],[0,1],[1,2],[2,1]]</code> → Saída <code>[1,1,2,3]</code>",
          "Entrada <code>m=1,n=1, pos=[[0,0]]</code> → Saída <code>[1]</code>"
        ]
      },
      {
        id: "a30",
        section: "advanced",
        number: 30,
        title: "Min Cost to Connect Points",
        pattern: "MST (Prim)",
        target: "O(n²)",
        difficulty: "Difícil",
        task: "Conecte todos os pontos com custo mínimo (distância Manhattan).",
        constraints: "n pode ser grande; evite lista completa de arestas.",
        note: "Prim sem arestas explícitas com `minDist` por ponto.",
        pitfalls: ["Construir todas as arestas", "Usar PQ lenta sem necessidade"],
        examples: [
          "Entrada <code>[[0,0],[2,2],[3,10],[5,2],[7,0]]</code> → Saída <code>20</code>",
          "Entrada <code>[[3,12],[-2,5],[-4,1]]</code> → Saída <code>18</code>"
        ]
      }
    ];

    const makeTocLinks = (items) =>
      items.map(item => `<a href="#${item.id}">${item.number}) ${item.title}</a>`).join("");

    const renderAccordion = (rootId, items) => {
      const root = document.getElementById(rootId);
      if (!root) return;
      root.innerHTML = items.map(item => {
        const collapseId = `${rootId}-${item.id}`;
        const headingId = `${rootId}-heading-${item.id}`;
        const difficulty = item.difficulty ? `<span class=\"meta-pill hard\">${item.difficulty}</span>` : "";
        const bullets = [
          item.task ? `<li><strong>Tarefa:</strong> ${item.task}</li>` : "",
          item.constraints ? `<li><strong>Restrições:</strong> ${item.constraints}</li>` : "",
          item.note ? `<li><strong>Nota em C++:</strong> ${item.note}</li>` : "",
          item.pitfalls && item.pitfalls.length
            ? `<li><strong>Armadilhas:</strong><div class=\"tag-row\">${item.pitfalls.map(p => `<span class=\"tag\">${p}</span>`).join("")}</div></li>`
            : ""
        ].join("");
        const examples = item.examples && item.examples.length
          ? `
            <div class=\"examples\">
              <h6>Exemplos</h6>
              <ul class=\"bullet-list example-list\">
                ${item.examples.map((ex, i) => `<li><strong>Ex. ${i + 1}:</strong> ${ex}</li>`).join("")}
              </ul>
            </div>
          `
          : "";
        return `
          <div class=\"accordion-item\" id=\"${item.id}\">
            <h2 class=\"accordion-header\" id=\"${headingId}\">
              <button class=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#${collapseId}\" aria-expanded=\"false\" aria-controls=\"${collapseId}\">
                <span class=\"exercise-title\">${item.number}) ${item.title}</span>
                <span class=\"meta-row\">
                  ${difficulty}
                  <span class=\"meta-pill accent\">Padrão: ${item.pattern}</span>
                  <span class=\"meta-pill info\">Alvo: ${item.target}</span>
                </span>
              </button>
            </h2>
            <div id=\"${collapseId}\" class=\"accordion-collapse collapse\" aria-labelledby=\"${headingId}\" data-bs-parent=\"#${rootId}\">
              <div class=\"accordion-body\">
                <ul class=\"bullet-list\">${bullets}</ul>
                ${examples}
              </div>
            </div>
          </div>
        `;
      }).join("");
    };

    const basics = exercises.filter(item => item.section === "basic");
    const advanced = exercises.filter(item => item.section === "advanced");

    document.getElementById("tocBasics").innerHTML = makeTocLinks(basics);
    document.getElementById("tocAdvanced").innerHTML = makeTocLinks(advanced);

    renderAccordion("accordionBasics", basics);
    renderAccordion("accordionAdvanced", advanced);
  </script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
</body>
</html>
